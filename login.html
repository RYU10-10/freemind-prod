<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/login.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工学院用SNSログインページ</title>
</head>

<!-- 文字表示 -->
<body>
<div align = "center" class="lg_letter">
    <p>日本工学院専用SNSへようこそ！！！</p>
</div>

<!-- ログインボタン -->
<div align = "center" class = lg_button>
        <button id="login">ログイン</button>
        <p class="message">
</div>

<script type="module">

    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";

    import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-auth.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyA3R_xD_ZKuausjMYIWsGuka3w9XlAxA-Y",
      authDomain: "fir-v10-fa879.firebaseapp.com",
      databaseURL: "https://fir-v10-fa879-default-rtdb.firebaseio.com",
      projectId: "fir-v10-fa879",
      storageBucket: "fir-v10-fa879.appspot.com",
      messagingSenderId: "51654346876",
      appId: "1:51654346876:web:23017fc57b01172f2361f9"
    };

    const app = initializeApp(firebaseConfig);
    import{getDatabase,ref,child,get,set,update,remove} from "https://www.gstatic.com/firebasejs/10.5.2/firebase-database.js";
    const auth = getAuth();
    const provider = new GoogleAuthProvider()

    const loginButton = document.getElementById("login")

    function loginF(){
        signInWithPopup(auth,provider).then((result) => {
            location.href="SNS.html";
            }
        ).catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message
        })
    }

    loginButton.addEventListener("click",loginF)
    </script>

</body>

</html>
